{% extends "base.html" %}



{% block js %}
	<script src="{{ url_for('static', filename='js/home.js') }}"></script>
	<script src="{{ url_for('static', filename='js/directions.js')}}"></script>
	<!--<script src="{{ url_for('static', filename='js/angular.js' )}}"></script>-->
	<script>
	    $(document).ready(function(){
            $('#menuItemHome').css('color','white');
        });
	</script>
{% endblock %}




{% block css %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style/home.css') }}" media="screen" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style/directions.css') }}" media="screen" />
{% endblock %}




{% block content %}

    <div class="overlay">
        <div class="overlayInner">
            <div class="overlayInnerLoading">
                Getting your coordinates and loading map
            </div>
            <div class="overlayInnerDotHolder">
                 <div id="dot1" class="overlayInnerDot"></div>
            </div>
            <div class="overlayInnerDotHolder">
                 <div id="dot2" class="overlayInnerDot"></div>
            </div>
            <div class="overlayInnerDotHolder">
                 <div id="dot3" class="overlayInnerDot"></div>
            </div>
            <div class="overlayInnerDotHolder">
                 <div id="dot4" class="overlayInnerDot"></div>
            </div>
            <div class="overlayInnerDotHolder">
                 <div id="dot5" class="overlayInnerDot"></div>
            </div>
        </div>
    </div>
    <!--<div class="progress">-->
    <!--    <div class="progress-bar progress-bar-info progress-bar-striped active">-->
    <!--        <div class="bar" style="width: 0%;"></div>-->
    <!--    </div>-->
    <!--</div>-->

    <!-- if geolocation fails. open this to get users current address -->
    <div class="modal fade bs-example-modal-lg" id="Modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 id="geolocationFailModal-title" class="modal-title">Your browser doesn't support Geolocation.
                    <!--(<a href="../templates/geolocationFail.html" target="blank">Why?</a>)-->
                     Please enter your location:
                </h4>
             </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="exampleInputEmail1">Address</label>
                    <input type="text" class="form-control" id="userAddress" placeholder="Closet Address relative to your position">
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword1">City</label>
                    <input type="text" class="form-control" id="userCity" placeholder="City">
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword1">State</label>
                    <input type="text" class="form-control" id="userState" placeholder="State">
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword1">Zip</label>
                    <input type="text" class="form-control" id="userZip" placeholder="Zip">
                </div>
            </div>
            <div class="modal-footer">
                <button id="manualGeolocation" type="button" class="btn btn-primary">Submit</button>
            </div>
        </div>
      </div>
    </div>




    <div id="map-canvas"></div>

    <div class="panel panel-default" id="destinationDiv" class="block" >
        <div class="panel-body">
            <div class="inlineForm">                                            <!--"inlineForm keep dropdown and buttons in line-->
                <form class="form-inline">
                    <div id="form-group-data" class="form-group">
                        <div id="transitDeparture">
                            <p class="form-control-static"><strong>Departure Time:</strong></p>
                            <select class="form-control time" id="hours">
                                <option>Now</option>
                                {% for i in range(1, 13) %}
                                <option>{{i}}</option>
                                {% endfor %}
                            </select>
                            <select class="form-control time" id="mins">
                                <option>Now</option>
                                {% for i in range(0, 60) %}
                                <option>
                                    {% if i < 10 %}
                                        0{{i}}
                                    {% else %}
                                        {{i}}
                                    {% endif %}
                                </option>
                                {% endfor %}
                            </select>
                            <select class="form-control time" id="period">
                                <option>Now</option>
                                <option>AM</option>
                                <option>PM</option>
                            </select>
                        </div>
                        <p class="form-control-static"><strong>Travel Type:</strong></p>
                        <select class="form-control" id="transitType">
                            <option>Walking</option>
                            <option>Transit</option>
                            <option>Driving</option>
                        </select>
                        <br/><br/>
                    </div>
                </form>
            </div>
            <div class="inlineForm" id="left-inline-form">
                <button class="btn btn-default btn-lg" class="submit" type="submit" id="update">Update Your Address</button>
                <button id="saveDirections" class="btn btn-success btn-lg" type="submit">Save Directions</button>
            </div>
        </div>
    </div>

    <!--<div id="destinationDiv" class="block">-->
    <!--    Departure Time:-->
    <!--     <select id="hours" class="time">-->
    <!--        <option selected="selected">Now</option>-->
    <!--        {% for i in range(1, 13) %}-->
    <!--        <option>{{i}}</option>-->
    <!--        {% endfor %}-->
    <!--     </select>-->
    <!--    <select id="mins" class="time">-->
    <!--        <option selected="selected">Now</option>-->
    <!--    {% for i in range(0, 60) %}-->
    <!--        <option>-->
    <!--            {% if i < 10 %}-->
    <!--                0{{i}}-->
    <!--            {% else %}-->
    <!--                {{i}}-->
    <!--            {% endif %}-->
    <!--        </option>-->
    <!--    {% endfor %}-->
    <!--    </select>-->
    <!--    <select id="period" class="time">-->
    <!--        <option selected="selected">Now</option>-->
    <!--        <option>AM</option>-->
    <!--        <option>PM</option>-->
    <!--    </select>-->
    <!--    <select id="transitType">-->
    <!--        <option>Transit</option>-->
    <!--        <option selected="selected">Walking</option>-->
    <!--        <option>Driving</option>-->
    <!--    </select>-->
    <!--    <button class="btn btn-default" class="submit" type="submit" id="update">Update Travel Time</button>-->
    <!--    <button class="btn btn-success" type="submit">Update Travel Time</button>-->

        <!--<a id="update" class="submit">Update Travel Times</a>-->
    <!--</div>-->


    <div id="directionsCtrl" ng-controller="directionsCtrl">
        <div id="[[d.order]]subBlock" class="subBlock" ng-repeat="d in directionBlocks">
            <div id="[[d.order]]innerLeftHeader" class="innerLeftHeader">
                <div class="innerLeftHeaderBlock">[[d.order]]</div>
                <img class="directionImg" src="../static/images/[[d.imagePath]]">
            </div>
            <div id="[[d.order]]innerLeft" class="innerLeft">
                <div id="[[d.order]]centerHorizontally" class="centerHorizontally">
                    <div class="innerLeftText">[[d.short_description]]</div>
                    <div class="innerLeftText">[[d.durationText]], [[d.distanceText]]</div>
                    <div class="agency">
                        <span class="header">[[d.travel_description]]</span>
                    </div>
                </div>
            </div>
            <div ng-bind-html="d.descriptionText" id="[[d.order]]innerRight" class="innerRight" >[[d.descriptionText]]</div>
        </div>
    </div>


    <div id="destinationBlockCtrl" ng-controller="destinationBlockCtrl">
        <div id="[[d.ID]]" ng-repeat="d in destinations" class="block destinationBlock">
            <div id="[[d.ID]]Header" class="blockHeader">
                <div id="[[d.ID]]Order" class="order">[[$index + 1]]</div>
                <a id="[[d.ID]]Link" class="linkURL" href="[[d.url]]" target="blank">[[d.name]]</a>
                <div id="[[d.ID]]Menu" class="blockHeaderMenu">
                    <input id="[[d.ID]]GetDirectionsLatitude" class="blockMenuItem" type="hidden" value="[[d.latitude]]">
                    <input id="[[d.ID]]GetDirectionsLongitude" class="blockMenuItem" type="hidden" value="[[d.longitude]]">
                    <input id="[[d.ID]]destinationNameInput" class="blockMenuItem" type="hidden" value="[[d.name]]">
                    <div id="[[d.ID]]distanceItem" class="blockMenuItem">[[d.distanceText]]</div>
                    <div id="[[d.ID]]durationItem" class="blockMenuItem">[[d.durationText]]</div>
                    <div id="[[d.ID]]GetDirections" class="blockMenuItem GetDirections">
                        <span class="glyphicon glyphicon-map-marker"></span>
                    </div>
                    <div id="[[d.ID]]Delete" class="delete blockMenuItem" ng-click="deleteDestination([[d.ID]],[[d.name]])" ng-show="isLogged">X</div>
                    <input id="[[d.ID]]Duration" type="hidden" value="[[d.totalDuration]]">
                </div>
            </div>
        </div>
    </div>
{% endblock %}

























